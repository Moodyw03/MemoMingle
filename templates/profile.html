<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Cloud Diary - My Profile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body class="container">
    <!-- Success -->
    {% if success %}
    <div id="success">
      <p>{{ success }}</p>
    </div>
    {% endif %}

    <!-- Error -->
    {% if error %}
    <div id="error">
      <p>{{ error }}</p>
    </div>
    {% endif %}

    <!-- NAV -->
    <nav class="notes__nav">
      <div class="written-note">
        <a href="{{ url_for('note.get_notes') }}" title="My Cloud Diary">
          <img
            class="memologo"
            src="{{ url_for('static', filename='images/myclouddiary.png') }}"
            alt="My Cloud Diary logo"
          />
        </a>
        <a
          class="memo"
          href="{{ url_for('note.get_notes') }}"
          title="My Cloud Diary"
        >
          <h2>
            <strong class="">My Cloud Diary</strong>
            <span class="slogan">
              <span>Capture your thoughts.</span>
              <span>Keep them forever!</span>
            </span>
          </h2>
        </a>
      </div>

      <!-- Back to Notes Button -->
      <div class="profile-nav-actions">
        <a href="{{ url_for('note.get_notes') }}" class="button">Back to Notes</a>
      </div>
    </nav>

    <section class="profile-container">
      <div class="profile-card">
        <h2 class="profile-title">My Profile</h2>
        
        <div class="profile-info">
          <div class="profile-detail">
            <span class="profile-label">Username:</span>
            <span class="profile-value">{{ user.username }}</span>
          </div>
        </div>

        <div class="profile-actions">
          <h3>Change Password</h3>
          <form 
            class="profile-form"
            action="{{ url_for('auth.profile') }}"
            method="post"
            onsubmit="return checkPasswordsProfile()"
          >
            <div class="form-group">
              <label class="profile-form-label" for="current-password">Current Password</label>
              <input
                class="profile-form-input"
                type="password"
                name="current_password"
                id="current-password"
                placeholder="Current Password"
                required
              />
            </div>

            <div class="form-group">
              <label class="profile-form-label" for="new-password">New Password</label>
              <input
                class="profile-form-input"
                type="password"
                name="new_password"
                id="new-password"
                placeholder="New Password"
                minlength="4"
                required
              />
            </div>

            <div class="form-group">
              <label class="profile-form-label" for="confirm-new-password">Confirm New Password</label>
              <input
                class="profile-form-input"
                type="password"
                name="confirm_new_password"
                id="confirm-new-password"
                placeholder="Confirm New Password"
                minlength="4"
                required
              />
            </div>

            <button class="profile-form-submit" type="submit">Update Password</button>
          </form>
        </div>
      </div>
    </section>

    {% include 'footer.html' %}

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html> 